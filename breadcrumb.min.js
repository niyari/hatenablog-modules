/*
 Htnpsne.API.ts v1.0.2 (c) 2016 Pocket Systems. | MIT | psn.hatenablog.jp
 HatenaBlog Breadcrumb v2 (c) 2015-2016 Pocket Systems. | MIT | psn.hatenablog.jp
 (・ω・) where to go? https://www.youtube.com/watch?v=nbeGeXgjh9Q
*/
if("undefined"==typeof Htnpsne)var Htnpsne={};
(function(h){(function(g){var l=document.getElementsByTagName("head")[0],m=!1;g.htmlTagData=document.getElementsByTagName("html")[0].dataset;g.setupCSS=function(b){var d=document.createElement("link");d.href=b;d.rel="stylesheet";d.type="text/css";l.appendChild(d)};g.listShuffle=function(b){var d,a,c;b=b.slice();d=b.length;if(0===d)return b;for(;--d;)a=Math.floor(Math.random()*(d+1)),c=b[d],b[d]=b[a],b[a]=c;return b};g.escapeHtml=function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};g.makeHtmlGoogAds=function(b,d){void 0===d&&(d=!1);if("undefined"==typeof b.client||null==b.client||""==b.client){if(d){var a=document.createElement("ins");return a.setAttribute("data-ad-error","error")}}else if("undefined"==typeof b.slot||null==b.slot||""==b.slot){if(d)return a=document.createElement("ins"),a.setAttribute("data-ad-error","error")}else{if(!m){a=document.createElement("script");a.async=!0;a.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c);m=!0}if("undefined"==typeof b.className||null==b.className)b.className="";if("undefined"==typeof b.style||null==b.style)b.style={display:"block"};if("undefined"==typeof b.format||null==b.format)b.format="auto";return d?(a=document.createElement("ins"),a.className="adsbygoogle "+b.className,a.setAttribute("data-ad-client",b.client),a.setAttribute("data-ad-slot",b.slot),a.setAttribute("data-ad-format",b.format),a):'<ins class="adsbygoogle '+
b.className+'" style="'+b.style+'" data-ad-client="'+b.client+'" data-ad-slot="'+b.slot+'" data-ad-format="'+b.format+'"></ins>'}};g.hatenaProfileIconURL=function(b,d){void 0===b&&(b="my");return d?"http://n.hatena.ne.jp/"+b+"/profile/image?type=icon&size="+d:"http://n.hatena.ne.jp/"+b+"/profile/image?type=icon"};g.hasCategory=function(b){void 0===b&&(b="");b=b.replace(/\s/g,"-");return"entry"!=document.getElementsByTagName("html")[0].getAttribute("data-page")||""===b?!1:0<=document.getElementsByTagName("body")[0].className.split(" ").indexOf("category-"+
b)}})(h.API||(h.API={}))})(Htnpsne||(Htnpsne={}));
(function(){function h(){l=Htnpsne.API.htmlTagData;if("about"===l.page){var a,c;null==document.getElementById("Htnpsne-about-elem")&&(a=document.querySelectorAll("div.entry-content dd")[8],c=document.createElement("dd"),c.id="Htnpsne-about-elem",a.parentNode.insertBefore(c,a.nextSibling),c=document.createElement("dt"),c.innerText="\u30d6\u30ed\u30b0\u62e1\u5f35\u6a5f\u80fd",a.parentNode.insertBefore(c,a.nextSibling));a=document.getElementById("Htnpsne-about-elem");c=document.createElement("div");
c.innerHTML='<a href="http://psn.hatenablog.jp/entry/breadcrumb" target="_blank">\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8(\u306f\u3066\u306a\u30d6\u30ed\u30b0) \u3092\u5229\u7528\u4e2d\u3067\u3059\u3002</a>';a.appendChild(c)}if("entry"===l.page){a=Htnpsne.Breadcrumb.q;window._parentCategory&&(console.log("Breadcrumb\uff1a\u53e4\u3044\u8a2d\u5b9a\u304c\u3042\u308a\u307e\u3059\u3002"),g());!1===a instanceof Array&&(a=[],window._parentCategory?a.push(["parentCategory",window._parentCategory]):a.push(["parentCategory",
[]]));for(c=0;c<a.length;c++)try{switch(a[c][0]){case "parentCategory":m=a[c][1];break;case "setting":d=a[c][1]}}catch(h){console.log("Queue Error \u2192"),console.log(h)}b=document.querySelector("header.entry-header div.categories");if(!1!==b instanceof HTMLElement)if(a=b.querySelectorAll("a"),!1===a instanceof NodeList)console.log("\u30a8\u30f3\u30c8\u30ea\u306b\u30ab\u30c6\u30b4\u30ea\u304c\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f");else{var f=m.join("<>")+"<>";c=[0];var k=0;if(0!==a.length)if(0===
m.length||1==d.allParent)for(var e=0;e<a.length;e++)c[e]=0;else for(e=0;e<a.length;e++){if(-1<f.indexOf(a[e].innerHTML+"<>")||0===e)k=0;c[e]=k;k++}f=[];k=[];for(e=c.length-1;0<=e;e--)k.unshift({"@type":"ListItem",position:c[e]+1,item:{"@id":a[e].href,name:a[e].innerText}}),0===c[e]&&(f.unshift({"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:k}),k=[]);a=document.createElement("script");a.type="application/ld+json";a.innerHTML=JSON.stringify(f);document.getElementsByTagName("head")[0].appendChild(a)}}else"archive"===
l.page&&/^\/archive\/category\//.test(location.pathname)&&(c=document.querySelector("span.breadcrumb-child[itemtype='http://data-vocabulary.org/Breadcrumb']"))&&(a=c.querySelector("span[itemprop='title']"),f=document.createElement("a"),f.setAttribute("itemprop","url"),f.setAttribute("href",location.href),f.appendChild(a),c.appendChild(f),c=location.href,a=a.innerText,f=document.createElement("script"),f.type="application/ld+json",f.innerHTML=JSON.stringify({"@context":"http://schema.org","@type":"BreadcrumbList",
itemListElement:[{"@type":"ListItem",position:1,item:{"@id":c,name:a}}]}),document.getElementsByTagName("head")[0].appendChild(f))}function g(){Messenger.addEventListener("init",function(a){a.can_open_editor&&(a=document.createElement("div"),a.innerHTML='<div style="position: fixed;top: 45px;right: 0px;background: #fff;max-width: 100%;padding: .2em;border: solid 1px #303030;"><div style="font-size: 1.3em;text-align: center;border-bottom: solid 2px #000;">\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8</div><div style="padding-bottom: .3em;">\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002<br>(\u53e4\u3044\u8a2d\u5b9a\u304c\u6b8b\u3063\u3066\u3044\u307e\u3059)</div><div style="text-align: right;margin: 0.3em 0.1em;"><a href="http://psn.hatenablog.jp/entry/breadcrumb" target="_blank" style="background: #309aea;text-decoration: none;color: #FFF;padding: .3em;">\u78ba\u8a8d\u3059\u308b</a></div></div>',
document.getElementsByTagName("body")[0].appendChild(a))})}var l,m,b,d={allParent:!1};"undefined"==typeof Htnpsne.Breadcrumb&&(Htnpsne.Breadcrumb={});Htnpsne.Breadcrumb.processed||(Htnpsne.Breadcrumb.processed=!0,"uninitialized"==document.readyState||"loading"==document.readyState?window.addEventListener("DOMContentLoaded",function(){h()},!1):h())})();