/*
 Htnpsne.API.ts (c) 2016 Pocket Systems. | MIT | psn.hatenablog.jp
 HatenaBlog Breadcrumb v2 (c) 2015-2016 Pocket Systems. | MIT | psn.hatenablog.jp
 (・ω・) where to go? https://www.youtube.com/watch?v=nbeGeXgjh9Q
*/
if("undefined"==typeof Htnpsne)var Htnpsne={};
(function(g){(function(f){var k=document.getElementsByTagName("head")[0],l=!1;f.htmlTagData=document.getElementsByTagName("html")[0].dataset;f.setupCSS=function(b){var a=document.createElement("link");a.href=b;a.rel="stylesheet";a.type="text/css";k.appendChild(a)};f.listShuffle=function(b){var a,c,d;b=b.slice();a=b.length;if(0===a)return b;for(;--a;)c=Math.floor(Math.random()*(a+1)),d=b[a],b[a]=b[c],b[c]=d;return b};f.escapeHtml=function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};f.makeHtmlGoogAds=function(b,a){void 0===a&&(a=!1);if("undefined"!=typeof b.client&&null!=b.client&&""!=b.client&&"undefined"!=typeof b.slot&&null!=b.slot&&""!=b.slot){if(!l){var c=document.createElement("script");c.async=!0;c.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);l=!0}if("undefined"==typeof b.className||null==b.className)b.className="";if("undefined"==
typeof b.style||null==b.style)b.style={display:"block"};if("undefined"==typeof b.format||null==b.format)b.format="auto";return a?(c=document.createElement("ins"),c.className="adsbygoogle "+b.className,c.setAttribute("data-ad-client",b.client),c.setAttribute("data-ad-slot",b.slot),c.setAttribute("data-ad-format",b.format),c):'<ins class="adsbygoogle '+b.className+'" style="'+b.style+'" data-ad-client="'+b.client+'" data-ad-slot="'+b.slot+'" data-ad-format="'+b.format+'"></ins>'}};f.hatenaProfileIconURL=
function(b,a){void 0===b&&(b="my");return a?"http://n.hatena.ne.jp/"+b+"/profile/image?type=icon&size="+a:"http://n.hatena.ne.jp/"+b+"/profile/image?type=icon"}})(g.API||(g.API={}))})(Htnpsne||(Htnpsne={}));
(function(){function g(){k=Htnpsne.API.htmlTagData;if("about"===k.page){var a=document.querySelector("div.entry-content"),c=document.createElement("div");c.innerHTML='<a href="http://psn.hatenablog.jp/entry/breadcrumb" target="_blank">\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8 \u3092\u5229\u7528\u4e2d\u3067\u3059\u3002</a>';a.appendChild(c)}if("entry"===k.page){"undefined"==typeof Htnpsne.Breadcrumb&&(Htnpsne.Breadcrumb={});a=Htnpsne.Breadcrumb.q;!1===a instanceof Array&&(a=[],window._parentCategory?
(console.log("Breadcrumb\uff1a\u53e4\u3044\u8a2d\u5b9a\u304c\u3042\u308a\u307e\u3059\u3002"),f(),a.push(["parentCategory",window._parentCategory])):a.push(["parentCategory",[]]));for(c=0;c<a.length;c++)try{switch(a[c][0]){case "parentCategory":l=a[c][1]}}catch(g){console.log("Queue Error \u2192"),console.log(g)}b=document.querySelector("header.entry-header div.categories");if(!1!==b instanceof HTMLElement)if(a=b.querySelectorAll("a"),!1===a instanceof NodeList)console.log("\u30a8\u30f3\u30c8\u30ea\u306b\u30ab\u30c6\u30b4\u30ea\u304c\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f");
else{var d=l.join("<>")+"<>",c=[0],h=0;if(0!==a.length)if(0===l.length)for(var e=0;e<a.length;e++)c[e]=0;else for(e=0;e<a.length;e++){if(-1<d.indexOf(a[e].innerHTML+"<>")||0===e)h=0;c[e]=h;h++}d=[];h=[];for(e=c.length-1;0<=e;e--)h.unshift({"@type":"ListItem",position:c[e]+1,item:{"@id":a[e].href,name:a[e].innerText}}),0===c[e]&&(d.unshift({"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:h}),h=[]);a=document.createElement("script");a.type="application/ld+json";a.innerHTML=JSON.stringify(d);
document.getElementsByTagName("head")[0].appendChild(a)}}else"archive"===k.page&&/^\/archive\/category\//.test(location.pathname)&&(c=document.querySelector("span.breadcrumb-child[itemtype='http://data-vocabulary.org/Breadcrumb']"))&&(a=c.querySelector("span[itemprop='title']"),d=document.createElement("a"),d.setAttribute("itemprop","url"),d.setAttribute("href",location.href),d.appendChild(a),c.appendChild(d),c=location.href,a=a.innerText,d=document.createElement("script"),d.type="application/ld+json",
d.innerHTML=JSON.stringify({"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":c,name:a}}]}),document.getElementsByTagName("head")[0].appendChild(d))}function f(){Messenger.addEventListener("init",function(a){a.can_open_editor&&(a=document.createElement("div"),a.innerHTML='<div style="position: fixed;top: 45px;right: 0px;background: #fff;max-width: 100%;padding: .2em;border: solid 1px #303030;"><div style="font-size: 1.3em;text-align: center;border-bottom: solid 2px #000;">\u30d1\u30f3\u304f\u305a\u30ea\u30b9\u30c8</div><div style="padding-bottom: .3em;">\u6700\u65b0\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002<br>(\u53e4\u3044\u8a2d\u5b9a\u304c\u6b8b\u3063\u3066\u3044\u307e\u3059)</div><div style="text-align: right;margin: 0.3em 0.1em;"><a href="http://psn.hatenablog.jp/entry/breadcrumb" target="_blank" style="background: #309aea;text-decoration: none;color: #FFF;padding: .3em;">\u78ba\u8a8d\u3059\u308b</a></div></div>',
document.getElementsByTagName("body")[0].appendChild(a))})}var k,l,b;"uninitialized"==document.readyState||"loading"==document.readyState?window.addEventListener("DOMContentLoaded",function(){g()},!1):g()})();